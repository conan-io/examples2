# Note: this profile uses emsdk package from Conan Center Index 
# To use a local emsdk installation use -pr:h <wasm32/wasm64/asmjs> -pr:h emsdk-native

[settings]
build_type=Release
compiler=emcc
compiler.cppstd=17  
compiler.libcxx=libc++
compiler.version=4.0.10
os=Emscripten

[tool_requires]
emsdk/4.0.10
ninja/[*]

[conf]
tools.build:exelinkflags+=['-sALLOW_MEMORY_GROWTH=1']
tools.build:sharedlinkflags+=['-sALLOW_MEMORY_GROWTH=1']

# Set Ninja as default generator as it is faster and will sove issues on Windows
tools.cmake.cmaketoolchain:generator=Ninja

# Verbosity to see emcc invocations
tools.build:verbosity=verbose
tools.compilation:verbosity=verbose

# Distinguish between architectures
tools.cmake.cmake_layout:build_folder_vars=['settings.build_type', 'settings.arch']
